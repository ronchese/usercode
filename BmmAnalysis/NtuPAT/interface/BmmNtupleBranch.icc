#include <iostream>

//#include "BmmNtupleBranch.h"

template <class T>
BmmNtupleBranch<T>::BmmNtupleBranch() {
}

template <class T>
void BmmNtupleBranch<T>::initTree() {

  // define branches
  // use local function "setBranch" (defined in the utility)
  // in place of ROOT "Branch" & "SetBranchAddress"

  // hlt

  // header
  this->setBranch( "runNumber"      , &  runNumber      ,
                   "runNumber/i"    , &b_runNumber       );
  this->setBranch( "lumiSection"    , &  lumiSection    ,
                   "lumiSection/i"  , &b_lumiSection     );
  this->setBranch( "eventNumber"    , &  eventNumber    ,
                   "eventNumber/i"  , &b_eventNumber     );

  if ( use_hlts      ) setBranches_hlts     ();
  if ( use_hlto      ) setBranches_hlto     ();
  if ( use_bspot     ) setBranches_bspot    ();
  if ( use_met       ) setBranches_met      ();
  if ( use_muons     ) setBranches_muons    ();
  if ( use_electrons ) setBranches_electrons();
  if ( use_taus      ) setBranches_taus     ();
  if ( use_jets      ) setBranches_jets     ();
  if ( use_pflow     ) setBranches_pflow    ();
  if ( use_tracks    ) setBranches_tracks   ();
  if ( use_pvts      ) setBranches_pVertices();
  if ( use_svts      ) setBranches_sVertices();
  if ( use_gen       ) setBranches_gen      ();

  return;

}

template <class T>
void BmmNtupleBranch<T>::setBranches_hlts() {
  this->setBranch( "nHLTStatus"     , &  nHLTStatus     ,
                   "nHLTStatus/I"   , &b_nHLTStatus      );
  this->setBranch( "hltPath"        , &  hltPath        ,
                   1000, 99         , &b_hltPath         );
  this->setBranch( "hltRun"         , &  hltRun         ,
                   1000, 99         , &b_hltRun          );
  this->setBranch( "hltAccept"      , &  hltAccept      ,
                   1000, 99         , &b_hltAccept       );
  return;
}

template <class T>
void BmmNtupleBranch<T>::setBranches_hlto() {
  this->setBranch( "nHLTObjects"    , &  nHLTObjects    ,
                   "nHLTObjects/I"  , &b_nHLTObjects     );
  this->setBranch( "hltObjType"     , &  hltObjType     ,
                   1000, 99         , &b_hltObjType      );
  this->setBranch( "hltPt"          , &  hltPt          ,
                   1000, 99         , &b_hltPt           );
  this->setBranch( "hltEta"         , &  hltEta         ,
                   1000, 99         , &b_hltEta          );
  this->setBranch( "hltPhi"         , &  hltPhi         ,
                   1000, 99         , &b_hltPhi          );
  this->setBranch( "hltPx"          , &  hltPx          ,
                   1000, 99         , &b_hltPx           );
  this->setBranch( "hltPy"          , &  hltPy          ,
                   1000, 99         , &b_hltPy           );
  this->setBranch( "hltPz"          , &  hltPz          ,
                   1000, 99         , &b_hltPz           );
  this->setBranch( "hltE"           , &  hltE           ,
                   1000, 99         , &b_hltE            );
  return;
}

template <class T>
void BmmNtupleBranch<T>::setBranches_bspot() {
  // beam spot
  this->setBranch( "bwX"            , &  bwX            ,
                   "bwX/D"          , &b_bwX             );
  this->setBranch( "bwY"            , &  bwY            ,
                   "bwY/D"          , &b_bwY             );
  this->setBranch( "bwXError"       , &  bwXError       ,
                   "bwXError/D"     , &b_bwXError        );
  this->setBranch( "bwYError"       , &  bwYError       ,
                   "bwYError/D"     , &b_bwYError        );
  this->setBranch( "bsX"            , &  bsX            ,
                   "bsX/D"          , &b_bsX             );
  this->setBranch( "bsY"            , &  bsY            ,
                   "bsY/D"          , &b_bsY             );
  this->setBranch( "bsZ"            , &  bsZ            ,
                   "bsZ/D"          , &b_bsZ             );
  this->setBranch( "bsXError"       , &  bsXError       ,
                   "bsXError/D"     , &b_bsXError        );
  this->setBranch( "bsYError"       , &  bsYError       ,
                   "bsYError/D"     , &b_bsYError        );
  this->setBranch( "bsZError"       , &  bsZError       ,
                   "bsZError/D"     , &b_bsZError        );
  this->setBranch( "bsdXdZ"         , &  bsdXdZ         ,
                   "bsdXdZ/D"       , &b_bsdXdZ          );
  this->setBranch( "bsdYdZ"         , &  bsdYdZ         ,
                   "bsdYdZ/D"       , &b_bsdYdZ          );
  this->setBranch( "bsdXdZError"    , &  bsdXdZError    ,
                   "bsdXdZError/D"  , &b_bsdXdZError     );
  this->setBranch( "bsdYdZError"    , &  bsdYdZError    ,
                   "bsdYdZError/D"  , &b_bsdYdZError     );
  return;
}

template <class T>
void BmmNtupleBranch<T>::setBranches_met() {
  // met
  this->setBranch( "mEt"            , &  mEt            ,
                   "mEt/D"          , &b_mEt             );
  this->setBranch( "mEx"            , &  mEx            ,
                   "mEx/D"          , &b_mEx             );
  this->setBranch( "mEy"            , &  mEy            ,
                   "mEy/D"          , &b_mEy             );
  return;
}

template <class T>
void BmmNtupleBranch<T>::setBranches_muons() {
  // muons
  this->setBranch( "nMuons"         , &  nMuons         ,
                   "nMuons/I"       , &b_nMuons          );
  this->setBranch( "muoPt"          , &  muoPt          ,
                   1000, 99         , &b_muoPt           );
  this->setBranch( "muoEta"         , &  muoEta         ,
                   1000, 99         , &b_muoEta          );
  this->setBranch( "muoPhi"         , &  muoPhi         ,
                   1000, 99         , &b_muoPhi          );
  this->setBranch( "muoPx"          , &  muoPx          ,
                   1000, 99         , &b_muoPx           );
  this->setBranch( "muoPy"          , &  muoPy          ,
                   1000, 99         , &b_muoPy           );
  this->setBranch( "muoPz"          , &  muoPz          ,
                   1000, 99         , &b_muoPz           );
  this->setBranch( "muoE"           , &  muoE           ,
                   1000, 99         , &b_muoE            );
  this->setBranch( "muoTrk"         , &  muoTrk         ,
                   1000, 99         , &b_muoTrk          );
  this->setBranch( "muoCharge"      , &  muoCharge      ,
                   1000, 99         , &b_muoCharge       );
  this->setBranch( "muoChaIso"      , &  muoChaIso      ,
                   1000, 99         , &b_muoChaIso       );
  this->setBranch( "muoNeuIso"      , &  muoNeuIso      ,
                   1000, 99         , &b_muoNeuIso       );
  this->setBranch( "muoPhoIso"      , &  muoPhoIso      ,
                   1000, 99         , &b_muoPhoIso       );
  this->setBranch( "muoSumCHpt"     , &  muoSumCHpt     ,
                   1000, 99         , &b_muoSumCHpt      );
  this->setBranch( "muoSumCPpt"     , &  muoSumCPpt     ,
                   1000, 99         , &b_muoSumCPpt      );
  this->setBranch( "muoSumNHet"     , &  muoSumNHet     ,
                   1000, 99         , &b_muoSumNHet      );
  this->setBranch( "muoSumPHet"     , &  muoSumPHet     ,
                   1000, 99         , &b_muoSumPHet      );
  this->setBranch( "muoSumPUpt"     , &  muoSumPUpt     ,
                   1000, 99         , &b_muoSumPUpt      );
  this->setBranch( "muoNumMatches"  , &  muoNumMatches  ,
                   1000, 99         , &b_muoNumMatches   );
  this->setBranch( "muoDb"          , &  muoDb          ,
                   1000, 99         , &b_muoDb           );
  this->setBranch( "muoNumValidHits", &  muoNumValidHits,
                   1000, 99         , &b_muoNumValidHits );
  this->setBranch( "muoNormChi2"    , &  muoNormChi2    ,
                   1000, 99         , &b_muoNormChi2     );
  this->setBranch( "muoNumMuHits"   , &  muoNumMuHits   ,
                   1000, 99         , &b_muoNumMuHits    );
  this->setBranch( "muoNumPixHits"  , &  muoNumPixHits  ,
                   1000, 99         , &b_muoNumPixHits   );
  this->setBranch( "muoNumTkHits"   , &  muoNumTkHits   ,
                   1000, 99         , &b_muoNumTkHits    );
  return;
}


template <class T>
void BmmNtupleBranch<T>::setBranches_electrons() {
  // electrons
  this->setBranch( "nElectrons"     , &  nElectrons     ,
                   "nElectrons/I"   , &b_nElectrons      );
  this->setBranch( "elePt"          , &  elePt          ,
                   1000, 99         , &b_elePt           );
  this->setBranch( "eleEta"         , &  eleEta         ,
                   1000, 99         , &b_eleEta          );
  this->setBranch( "elePhi"         , &  elePhi         ,
                   1000, 99         , &b_elePhi          );
  this->setBranch( "elePx"          , &  elePx          ,
                   1000, 99         , &b_elePx           );
  this->setBranch( "elePy"          , &  elePy          ,
                   1000, 99         , &b_elePy           );
  this->setBranch( "elePz"          , &  elePz          ,
                   1000, 99         , &b_elePz           );
  this->setBranch( "eleE"           , &  eleE           ,
                   1000, 99         , &b_eleE            );
  this->setBranch( "eleTrk"         , &  eleTrk         ,
                   1000, 99         , &b_eleTrk          );
  this->setBranch( "eleCharge"      , &  eleCharge      ,
                   1000, 99         , &b_eleCharge       );
  this->setBranch( "eleChaIso"      , &  eleChaIso      ,
                   1000, 99         , &b_eleChaIso       );
  this->setBranch( "eleNeuIso"      , &  eleNeuIso      ,
                   1000, 99         , &b_eleNeuIso       );
  this->setBranch( "elePhoIso"      , &  elePhoIso      ,
                   1000, 99         , &b_elePhoIso       );
  this->setBranch( "eleAbsEta"      , &  eleAbsEta      ,
                   1000, 99         , &b_eleAbsEta       );
  this->setBranch( "eleAEff"        , &  eleAEff        ,
                   1000, 99         , &b_eleAEff         );
  this->setBranch( "eleID"          , &  eleID          ,
                   1000, 99         , &b_eleID           );
  this->setBranch( "eleConsCha"     , &  eleConsCha     ,
                   1000, 99         , &b_eleConsCha      );
  this->setBranch( "eleEBEEGap"     , &  eleEBEEGap     ,
                   1000, 99         , &b_eleEBEEGap      );
  this->setBranch( "eleDb"          , &  eleDb          ,
                   1000, 99         , &b_eleDb           );
  return;
}


template <class T>
void BmmNtupleBranch<T>::setBranches_taus() {
  // taus
  this->setBranch( "nTaus"          , &  nTaus          ,
                   "nTaus/I"        , &b_nTaus           );
  this->setBranch( "tauPt"          , &  tauPt          ,
                   1000, 99         , &b_tauPt           );
  this->setBranch( "tauEta"         , &  tauEta         ,
                   1000, 99         , &b_tauEta          );
  this->setBranch( "tauPhi"         , &  tauPhi         ,
                   1000, 99         , &b_tauPhi          );
  this->setBranch( "tauPx"          , &  tauPx          ,
                   1000, 99         , &b_tauPx           );
  this->setBranch( "tauPy"          , &  tauPy          ,
                   1000, 99         , &b_tauPy           );
  this->setBranch( "tauPz"          , &  tauPz          ,
                   1000, 99         , &b_tauPz           );
  this->setBranch( "tauE"           , &  tauE           ,
                   1000, 99         , &b_tauE            );
  this->setBranch( "tauCharge"      , &  tauCharge      ,
                   1000, 99         , &b_tauCharge       );
  return;
}


template <class T>
void BmmNtupleBranch<T>::setBranches_jets() {
  // jets
  this->setBranch( "nJets"          , &  nJets          ,
                   "nJets/I"        , &b_nJets           );
  this->setBranch( "jetPt"          , &  jetPt          ,
                   1000, 99         , &b_jetPt           );
  this->setBranch( "jetEta"         , &  jetEta         ,
                   1000, 99         , &b_jetEta          );
  this->setBranch( "jetPhi"         , &  jetPhi         ,
                   1000, 99         , &b_jetPhi          );
  this->setBranch( "jetPx"          , &  jetPx          ,
                   1000, 99         , &b_jetPx           );
  this->setBranch( "jetPy"          , &  jetPy          ,
                   1000, 99         , &b_jetPy           );
  this->setBranch( "jetPz"          , &  jetPz          ,
                   1000, 99         , &b_jetPz           );
  this->setBranch( "jetE"           , &  jetE           ,
                   1000, 99         , &b_jetE            );
  this->setBranch( "jetCSV"         , &  jetCSV         ,
                   1000, 99         , &b_jetCSV          );
  this->setBranch( "jetTCHE"        , &  jetTCHE        ,
                   1000, 99         , &b_jetTCHE         );
  this->setBranch( "jetPF"          , &  jetPF          ,
                   1000, 99         , &b_jetPF           );
  this->setBranch( "jetNDau"        , &  jetNDau        ,
                   1000, 99         , &b_jetNDau         );
  this->setBranch( "jetNHF"         , &  jetNHF         ,
                   1000, 99         , &b_jetNHF          );
  this->setBranch( "jetNEF"         , &  jetNEF         ,
                   1000, 99         , &b_jetNEF          );
  this->setBranch( "jetCHF"         , &  jetCHF         ,
                   1000, 99         , &b_jetCHF          );
  this->setBranch( "jetCEF"         , &  jetCEF         ,
                   1000, 99         , &b_jetCEF          );
  this->setBranch( "jetNCH"         , &  jetNCH         ,
                   1000, 99         , &b_jetNCH          );
  return;
}


template <class T>
void BmmNtupleBranch<T>::setBranches_pflow() {
  // particle flow
  this->setBranch( "nPF"            , &  nPF            ,
                   "nPF/I"          , &b_nPF             );
  this->setBranch( "pfcPt"          , &  pfcPt          ,
                   1000, 99         , &b_pfcPt           );
  this->setBranch( "pfcEta"         , &  pfcEta         ,
                   1000, 99         , &b_pfcEta          );
  this->setBranch( "pfcPhi"         , &  pfcPhi         ,
                   1000, 99         , &b_pfcPhi          );
  this->setBranch( "pfcPx"          , &  pfcPx          ,
                   1000, 99         , &b_pfcPx           );
  this->setBranch( "pfcPy"          , &  pfcPy          ,
                   1000, 99         , &b_pfcPy           );
  this->setBranch( "pfcPz"          , &  pfcPz          ,
                   1000, 99         , &b_pfcPz           );
  this->setBranch( "pfcE"           , &  pfcE           ,
                   1000, 99         , &b_pfcE            );
  this->setBranch( "pfcCharge"      , &  pfcCharge      ,
                   1000, 99         , &b_pfcCharge       );
  this->setBranch( "pfcJet"         , &  pfcJet         ,
                   1000, 99         , &b_pfcJet          );
  this->setBranch( "pfcTrk"         , &  pfcTrk         ,
                   1000, 99         , &b_pfcTrk          );
  return;
}


template <class T>
void BmmNtupleBranch<T>::setBranches_tracks() {
  // tracks
  this->setBranch( "nTracks"     , &  nTracks     ,
                   "nTracks/I"   , &b_nTracks      );
  this->setBranch( "trkPt"          , &  trkPt          ,
                   1000, 99         , &b_trkPt           );
  this->setBranch( "trkEta"         , &  trkEta         ,
                   1000, 99         , &b_trkEta          );
  this->setBranch( "trkPhi"         , &  trkPhi         ,
                   1000, 99         , &b_trkPhi          );
  this->setBranch( "trkPx"          , &  trkPx          ,
                   1000, 99         , &b_trkPx           );
  this->setBranch( "trkPy"          , &  trkPy          ,
                   1000, 99         , &b_trkPy           );
  this->setBranch( "trkPz"          , &  trkPz          ,
                   1000, 99         , &b_trkPz           );
  this->setBranch( "trkCharge"      , &  trkCharge      ,
                   1000, 99         , &b_trkCharge       );
  this->setBranch( "trkPFC"         , &  trkPFC         ,
                   1000, 99         , &b_trkPFC          );
  this->setBranch( "trkPVtx"        , &  trkPVtx        ,
                   1000, 99         , &b_trkPVtx         );
  this->setBranch( "trkSVtx"        , &  trkSVtx        ,
                   1000, 99         , &b_trkSVtx         );
  this->setBranch( "trkQuality"     , &  trkQuality     ,
                   1000, 99         , &b_trkQuality      );
  this->setBranch( "trkNormChi2"    , &  trkNormChi2    ,
                   1000, 99         , &b_trkNormChi2     );
  this->setBranch( "trkDxy"         , &  trkDxy         ,
                   1000, 99         , &b_trkDxy          );
  this->setBranch( "trkDz"          , &  trkDz          ,
                   1000, 99         , &b_trkDz           );
  return;
}


template <class T>
void BmmNtupleBranch<T>::setBranches_pVertices() {
  // primary vertices
  this->setBranch( "nPVertices"     , &  nPVertices     ,
                   "nPVertices/I"   , &b_nPVertices      );
  this->setBranch( "pvtX"           , &  pvtX           ,
                   1000, 99         , &b_pvtX            );
  this->setBranch( "pvtY"           , &  pvtY           ,
                   1000, 99         , &b_pvtY            );
  this->setBranch( "pvtZ"           , &  pvtZ           ,
                   1000, 99         , &b_pvtZ            );
  this->setBranch( "pvtSxx"         , &  pvtSxx         ,
                   1000, 99         , &b_pvtSxx          );
  this->setBranch( "pvtSyy"         , &  pvtSyy         ,
                   1000, 99         , &b_pvtSyy          );
  this->setBranch( "pvtSzz"         , &  pvtSzz         ,
                   1000, 99         , &b_pvtSzz          );
  this->setBranch( "pvtSxy"         , &  pvtSxy         ,
                   1000, 99         , &b_pvtSxy          );
  this->setBranch( "pvtSxz"         , &  pvtSxz         ,
                   1000, 99         , &b_pvtSxz          );
  this->setBranch( "pvtSyz"         , &  pvtSyz         ,
                   1000, 99         , &b_pvtSyz          );
//  this->setBranch( "pvtCovariance"  , &  pvtCovariance  ,
//                   1000, 99         , &b_pvtCovariance   );
  this->setBranch( "pvtNTracks"     , &  pvtNTracks     ,
                   1000, 99         , &b_pvtNTracks      );
  this->setBranch( "pvtNormChi2"    , &  pvtNormChi2    ,
                   1000, 99         , &b_pvtNormChi2     );
  this->setBranch( "pvtBadQuality"  , &  pvtBadQuality  ,
                   1000, 99         , &b_pvtBadQuality   );
  return;
}

template <class T>
void BmmNtupleBranch<T>::setBranches_sVertices() {
  // secondary vertices
  this->setBranch( "nSVertices"     , &  nSVertices     ,
                   "nSVertices/I"   , &b_nSVertices      );
  this->setBranch( "svtX"           , &  svtX           ,
                   1000, 99         , &b_svtX            );
  this->setBranch( "svtY"           , &  svtY           ,
                   1000, 99         , &b_svtY            );
  this->setBranch( "svtZ"           , &  svtZ           ,
                   1000, 99         , &b_svtZ            );
  this->setBranch( "svtSxx"         , &  svtSxx         ,
                   1000, 99         , &b_svtSxx          );
  this->setBranch( "svtSyy"         , &  svtSyy         ,
                   1000, 99         , &b_svtSyy          );
  this->setBranch( "svtSzz"         , &  svtSzz         ,
                   1000, 99         , &b_svtSzz          );
  this->setBranch( "svtSxy"         , &  svtSxy         ,
                   1000, 99         , &b_svtSxy          );
  this->setBranch( "svtSxz"         , &  svtSxz         ,
                   1000, 99         , &b_svtSxz          );
  this->setBranch( "svtSyz"         , &  svtSyz         ,
                   1000, 99         , &b_svtSyz          );
  this->setBranch( "svtDirX"        , &  svtDirX        ,
                   1000, 99         , &b_svtDirX         );
  this->setBranch( "svtDirY"        , &  svtDirY        ,
                   1000, 99         , &b_svtDirY         );
  this->setBranch( "svtDirZ"        , &  svtDirZ        ,
                   1000, 99         , &b_svtDirZ         );
  this->setBranch( "svtType"        , &  svtType        ,
                   1000, 99         , &b_svtType         );
  this->setBranch( "svtNTracks"     , &  svtNTracks     ,
                   1000, 99         , &b_svtNTracks      );
  this->setBranch( "svtNormChi2"    , &  svtNormChi2    ,
                   1000, 99         , &b_svtNormChi2     );
  this->setBranch( "svtMass"        , &  svtMass        ,
                   1000, 99         , &b_svtMass         );
  this->setBranch( "svtDist2D"      , &  svtDist3D      ,
                   1000, 99         , &b_svtDist3D       );
  this->setBranch( "svtSign2D"      , &  svtSign3D      ,
                   1000, 99         , &b_svtSign3D       );
  this->setBranch( "svtDist3D"      , &  svtDist3D      ,
                   1000, 99         , &b_svtDist3D       );
  this->setBranch( "svtSign3D"      , &  svtSign3D      ,
                   1000, 99         , &b_svtSign3D       );
  this->setBranch( "svtJet"         , &  svtJet         ,
                   1000, 99         , &b_svtJet          );
  this->setBranch( "svtBadQuality"  , &  svtBadQuality  ,
                   1000, 99         , &b_svtBadQuality   );
  return;
}

template <class T>
void BmmNtupleBranch<T>::setBranches_gen() {
  // gen particles
  this->setBranch( "nGenP"          , &  nGenP          ,
                   "nGenP/I"        , &b_nGenP           );
  this->setBranch( "genId"          , &  genId          ,
                   1000, 99         , &b_genId           );
  this->setBranch( "genStatus"      , &  genStatus      ,
                   1000, 99         , &b_genStatus       );
  this->setBranch( "genMother"      , &  genMother      ,
                   1000, 99         , &b_genMother       );
  this->setBranch( "genPt"          , &  genPt          ,
                   1000, 99         , &b_genPt           );
  this->setBranch( "genEta"         , &  genEta         ,
                   1000, 99         , &b_genEta          );
  this->setBranch( "genPhi"         , &  genPhi         ,
                   1000, 99         , &b_genPhi          );
  this->setBranch( "genPx"          , &  genPx          ,
                   1000, 99         , &b_genPx           );
  this->setBranch( "genPy"          , &  genPy          ,
                   1000, 99         , &b_genPy           );
  this->setBranch( "genPz"          , &  genPz          ,
                   1000, 99         , &b_genPz           );
  this->setBranch( "genE"           , &  genE           ,
                   1000, 99         , &b_genE            );
  this->setBranch( "genCharge"      , &  genCharge      ,
                   1000, 99         , &b_genCharge       );
  this->setBranch( "genMass"        , &  genMass        ,
                   1000, 99         , &b_genMass         );
  return;
}

template <class T>
BmmNtupleBranch<T>::~BmmNtupleBranch() {
}


